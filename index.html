<!DOCTYPE html>
<html lang="ko">
    <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
<!-- SEO 메타 태그 -->
    <title>YPP - 안전하고 지속가능한 에너지의 미래를 여는 기업</title>
    <meta name="description" content="YPP는 디지털 보호계전기, 삼중화 보호 TRIUMP, 고장기록장치 전문 제조기업입니다. 전력계통 보호 솔루션을 제공합니다.">
    <meta name="keywords" content="보호계전기, 디지털보호계전기, TRIUMP, 고장기록장치, 전력계통보호, YPP, 와이피피">
    
<!-- Open Graph -->
    <meta property="og:title" content="YPP - 안전하고 지속가능한 에너지의 미래를 여는 기업">
    <meta property="og:description" content="안전하고 지속가능한 에너지의 미래를 여는 전력계통 보호 솔루션 전문기업 YPP">
    <meta property="og:type" content="website">
    
<!-- 파비콘 -->
    <link rel="icon" type="image/ico" href="./assets/images/favicon/favicon.ico">
    
<!-- Critical CSS 우선 로딩 -->
    <link rel="stylesheet" href="./css/style.css">
    
<!-- 섹션별 CSS -->
    <link rel="stylesheet" href="./css/index/index.css">

<!-- 헤더 메타테그 추가 -->
    <script src="./js/head-meta.js"></script>

<!-- Supabase -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

<!-- YPP Config -->
    <script src="./js/config.js"></script>

<!-- 리뉴얼 작업 시 잠금 화면 활성화 스크립트 -->
     <!-- <script src="./redirect.js"></script>-->
</head>
<body>
    <!-- Loading Screen -->
    <div id="loading-screen" class="loading-screen">
        <img src="./assets/images/logo/slogan-en-v-01.jpg" alt="YPP 로고" class="loading-logo">
    </div>

    <!-- Header Container -->
    <div id="header-container"></div>
    
    <!-- Mobile Sidebar Container -->
    <div id="sidebar-container"></div>

    <!-- Main Content -->
    <main class="main-content">
        <!-- 브레드크럼 (필요시) -->
        <!-- <div id="breadcrumb-container"></div> -->
        
        <!-- 섹션 컨테이너들 -->
        <div id="hero-section-container"></div>
        <div id="intro-section-container"></div>
        <div id="epc-business-container"></div>
        <div id="protection-products-container"></div>
        <div id="company-overview-container"></div>
        <div id="academy-container"></div>
        <!-- <div id="keypartners-container"></div> -->
        <div id="contact-container"></div>
        
    </main>

    <!-- Footer Container -->
    <div id="footer-container"></div>
    <!-- Popup Container -->
    <div id="popup-container"></div>
    <!-- Top Button Container -->
    <div id="scrolltotop-container"></div>
    <!-- 스크롤 탑 버튼 -->

    <!-- 첫 로딩화면 구현하기 -->
    <script src="./js/loading-screen.js"></script>
    <!-- 공통 컴포넌트 불러오기(헤더,푸터,사이드바/최상단가기 버튼) -->
    <script src="./js/components.js"></script>
    <!-- 헤더 메뉴 불러오기 -->
    <script src="./js/header-menu.js"></script>
    <!-- 햄버거 메뉴버튼 기능 -->
    <script src="./js/hamburger.js"></script>
    <!-- 사이드바 생성하기 -->
    <script src="./js/sidebar.js"></script>
    <!-- 히어로 섹션에 헤더 높이만큼 패딩 top주기 -->
    <script src="./js/main-top-padding.js"></script>
    <!-- 인덱스 페이지의 섹션들 html 불러오기 -->
    <script src="./js/index-sections.js"></script>
    <!-- 최상단 가기 버튼 구현하기 -->
    <script src="./js/scrolltotop.js"></script>
    <!-- 한영 전환 기능 -->
    <script src="./js/lang-switch.js"></script>
    <!-- 팝업창 -->
    <!-- <script src="/popup/popup-modal.js"></script> -->
    <script src="/popup/popup-modal-simple.js"></script>
    <!-- 트로피 팝업  -->
    <script src="/js/trophy.js"></script>
<style>
    
            /* 컨텐츠 준비 중 알림창 */
            @import url('https://fonts.googleapis.com/css2?family=Song+Myung&display=swap');
            .trophy-notice {
                position: fixed;
                bottom: 13px;
                left: 19px;
                padding: 1rem;
                z-index: 998;
                font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                transition: all 0.3s ease;
            }
            .trophy-notice .notice-container {
                border-radius:50px;
                margin: 0 auto;
                background: rgba(255, 255, 255, 0.63);
                padding: .65rem 1.45rem;
                
                /* `border: 1px solid rgba(229, 229, 229, 0.18); */
                box-shadow: 13px 10px 27px rgb(255 255 255 / 24%) inset, 0 -6px 20px rgba(168, 165, 154, 0.3) inset, 0 -3px 10px rgba(255, 242, 219, 0.2) inset;
                backdrop-filter: blur(10px);
                -webkit-backdrop-filter: blur(10px); /* Safari 지원 */
                
                /* 백드롭 필터 안정성을 위한 추가 속성 */
                will-change: backdrop-filter;
                isolation: isolate;
                
                text-align: center;
                color: white;
                display: flex; align-items: center; justify-content: center;
                gap: 1rem;
                
                animation: contentPreparingSlideUp 1.5s 3s ease-in-out forwards;
                transform: translateX(-100%);
                transition: all 0.35s ease;
            }
            .trophy-notice:hover{
                bottom: 14px;
                transition: all 0.35s ease;
            }
            .notice-img{
                max-width: 50px;
            }
            .notice-img img {
                width: 100%;
                height: auto;
                scale: 1.1;
            }
            .notice-content {
                display: flex;
                flex-direction: column;
                align-items: center;
                justify-content: center;
                gap: 0.2rem;
            }
            .notice-content p { 
                font-family: "Song Myung", serif;
                margin: 0;
                font-size: 1rem;
                font-weight: 600;
                color: #9e5e11;
                text-shadow:0px 0px 7px rgb(255 255 255), 0px 0px 22px rgb(255 255 255);
                vertical-align: middle;
            }

            @keyframes contentPreparingSlideUp {
                from {
                    transform: translateX(-100%);
                    opacity: 0;
                }
                to {
                    transform: translateX(0);
                    opacity: 1;
                }
            }
            
            /* 모바일 반응형 */
            @media (max-width: 768px) {
                .trophy-notice {bottom: 0px;left: 0px;}
            }
            
            @media (max-width: 480px) {
                .trophy-notice {
                    /* width: 100%; */
                    right: 0;
                    padding: 0.4em;
                    bottom: 12px;
                }
                .trophy-notice .notice-container{gap: 1rem; }
            }
</style>


    <link rel="stylesheet" href="/popup/popup-style.css">

    <!-- 최초 접속 시 한국어 자동 선택 -->
<script>
    // 최초 접속 시 한국어 자동 선택
    (function() {
        const savedLanguage = localStorage.getItem('selectedLanguage');
        
        if (!savedLanguage) {
            console.log('최초 접속 - 한국어 자동 설정');
            
            // 한국어 버튼을 찾아서 클릭 (여러 번 시도)
            function tryClickKorean() {
                const koreanButton = document.querySelector('.lang-btn[data-lang="ko"]');
                if (koreanButton) {
                    koreanButton.click();
                    console.log('한국어 버튼 자동 클릭 완료');
                    return true;
                }
                return false;
            }
            
            // 즉시 시도
            if (!tryClickKorean()) {
                // 0.5초 후 시도
                setTimeout(() => {
                    if (!tryClickKorean()) {
                        // 1초 후 시도
                        setTimeout(() => {
                            if (!tryClickKorean()) {
                                // 버튼이 없으면 직접 설정
                                localStorage.setItem('selectedLanguage', 'ko');
                                console.log('버튼을 찾을 수 없어 직접 한국어 설정');
                            }
                        }, 500);
                    }
                }, 500);
            }
        }
    })();

</script>
<script>
    // 히어로 섹션 비디오 한영 전환 기능 (data 속성 활용)
function switchHeroVideo(lang = null) {
    // 메인 페이지에서만 실행
    if (!window.location.pathname.includes('index.html') && window.location.pathname !== '/') {
        return;
    }
    
    // lang가 없으면 localStorage에서 가져오기
    if (!lang) {
        lang = localStorage.getItem('selectedLanguage') || 'ko';
    }
    
    const videoElement = document.querySelector('#hero-section video, .hero-section video, .hero-video');
    
    if (!videoElement) {
        console.log('히어로 비디오를 찾을 수 없습니다.');
        return;
    }
    
    console.log('히어로 비디오 언어 전환:', lang);
    
    // data 속성에서 해당 언어의 소스 가져오기
    const dataAttr = lang === 'en' ? 'data-eng' : 'data-kor';
    const sourceHTML = videoElement.getAttribute(dataAttr);
    
    if (!sourceHTML) {
        console.log('해당 언어의 비디오 데이터가 없습니다:', lang);
        return;
    }
    
    try {
        // 기존 source 태그 제거
        const existingSources = videoElement.querySelectorAll('source');
        existingSources.forEach(source => source.remove());
        
        // 새로운 source 태그 추가
        videoElement.innerHTML = sourceHTML;
        
        // 비디오 다시 로드하고 재생
        videoElement.load();
        
        // 비디오가 로드되면 자동 재생 (처음부터)
        videoElement.addEventListener('loadeddata', function restartVideo() {
            videoElement.currentTime = 0; // 처음부터 재생
            videoElement.play().catch(error => {
                console.log('비디오 자동 재생 실패:', error);
            });
            
            // 이벤트 리스너 제거 (한 번만 실행)
            videoElement.removeEventListener('loadeddata', restartVideo);
        });
        
        console.log('히어로 비디오 전환 완료:', lang);
        
    } catch (error) {
        console.error('비디오 전환 실패:', error);
    }
}

// 전역 함수로 등록
window.switchHeroVideo = switchHeroVideo;

// 페이지 로드 시 언어에 맞는 동영상 초기화
function initializeHeroVideo() {
    // 컴포넌트가 로드될 때까지 대기
    setTimeout(() => {
        const savedLang = localStorage.getItem('selectedLanguage') || 'ko';
        console.log('페이지 로드 시 히어로 동영상 초기화:', savedLang);
        // 영어인 경우에만 전환 (한국어가 기본값이므로)
        if (savedLang === 'en') {
            switchHeroVideo(savedLang);
        }
    }, 1500); // 컴포넌트 로딩 후 실행
}

// 페이지 로드 시 초기화
document.addEventListener('DOMContentLoaded', initializeHeroVideo);

// 페이지 리로드 방식 (대안)
function reloadPageForVideoSwitch(lang) {
    // 메인 페이지에서만 실행
    if (!window.location.pathname.includes('index.html') && window.location.pathname !== '/') {
        return;
    }
    
    console.log('언어 전환으로 인한 페이지 리로드');
    
    // 언어 설정 후 페이지 리로드
    setTimeout(() => {
        window.location.reload();
    }, 300); // 언어 전환 애니메이션 후 리로드
}

// 메인 언어 전환 기능에 통합
// lang-switch.js의 switchLanguage 함수에 추가하거나
// 별도로 언어 전환 이벤트를 감지

// 히어로 동영상 전환은 이제 lang-switch.js의 switchLanguage 함수에서 자동으로 처리됩니다.
</script>

</body>
</html>
<!-- 인덱스 스타일 -->
<style>
    .index-section-header{text-align: left;}
    .index-section-title{font-size: 2.5rem;font-weight: 700;margin-bottom: 2.5rem;text-transform: uppercase;}
    .index-section-title:hover{color: #007bff;transition: color 0.3s ease;}
    .index-section-description{font-size: 0.95rem;font-weight: normal;line-height: 1.5;margin: 1rem 0;text-transform:initial;}
    .index-section-subtitle{font-size: 1.5rem;font-weight: 600;padding: .2rem 1rem;border-left: 7px solid #007bff;vertical-align: middle;margin-bottom: 1.5rem;}


    #keypartners .container,
    #contact .container,
    #academy .container,
    .epc-business-areas .container {max-width: 1200px;margin: 0 auto;padding: 0 1rem;}
    @media screen and (max-width: 480px) {
        .index-section-title{font-size: 1.75rem;}
        .index-section-subtitle{font-size: 1rem;}
    }
</style>