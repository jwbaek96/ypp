<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- SEO 메타 태그 -->
    <title>사업분야 - YPP</title>
    <meta name="description" content="YPP 사업분야 - 화력발전소, 원자력발전소, 신재생에너지, 그린수소/암모니아, 변전소, 에너지저장장치, 데이터센터, 콘트롤밸브, 미군기지">
    <meta name="keywords" content="YPP, 사업분야, 화력발전, 원자력발전, 신재생에너지, 그린수소, 변전소, ESS, 데이터센터">
    
    <!-- 파비콘 -->
    <link rel="icon" type="image/ico" href="../../assets/images/favicon/favicon.ico">
    
    <!-- CSS -->
    <link rel="stylesheet" href="../../css/style.css">
    <link rel="stylesheet" href="../../css/pages/layout.css">
    
    <!-- 메타 시스템 -->
    <script src="../../js/head-meta.js"></script>
    <style>
        /* 페이지 헤더 배경 이미지 */
        .page-header {
            position: relative;
            background: url(page-header-bg.png);
            background-size: cover;
            background-position: center;
        }
        
        .page-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.6); 
            z-index: 1;
        }
        
        .page-header > * {
            position: relative;
            z-index: 2
        }
        .page-header-content h1,
        .page-header-content p{
            color: var(--white);
        }
        /* tab-nav 스크롤화(영문이 너무 김) */
        .tab-nav{
        justify-content:flex-start;
        overflow-x: scroll;
    }
    </style>
</head>
<body>
    <!-- Header Container -->
    <div id="header-container"></div>
    
    <!-- Mobile Sidebar Container -->
    <div id="sidebar-container"></div>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Page Header -->
        <section class="page-header">
            <div class="container">
                <div class="page-header-content">
                    <h1 class="page-title"
                            data-eng="Business Industry"
                            data-kor="사업분야">사업분야</h1>
                    <p class="page-subtitle"
                            data-eng=""
                            data-kor="Business Industry">Business Industry</p>
                </div>
            </div>
        </section>

        <!-- Breadcrumb -->
        <section class="breadcrumb-section">
            <div class="container">
                <nav class="breadcrumb">
                    <a href="/"
                            data-eng="Home"
                            data-kor="홈">홈</a>
                    <span class="breadcrumb-separator">></span>
                    <span class="breadcrumb-current"
                            data-eng="Business Industry"
                            data-kor="사업분야">사업분야</span>
                </nav>
            </div>
        </section>

        <!-- Tab Navigation -->
        <section class="tab-navigation">
            <div class="container">
                <nav class="tab-nav">
                    <a href="#thermal-power" class="tab-link active" data-tab="thermal-power"
                        data-eng="Thermal Power Plant"
                        data-kor="화력발전소">화력발전소</a>
                    <a href="#nuclear-power" class="tab-link" data-tab="nuclear-power"
                        data-eng="Nuclear Power Plant"
                        data-kor="원자력발전소">원자력발전소</a>
                    <a href="#renewable-energy" class="tab-link" data-tab="renewable-energy"
                        data-eng="Renewable Energy"
                        data-kor="신재생에너지">신재생에너지</a>
                    <a href="#green-hydrogen" class="tab-link" data-tab="green-hydrogen"
                        data-eng="Green Hydrogen/Ammonia"
                        data-kor="그린수소/암모니아">그린수소/암모니아</a>
                    <a href="#substation" class="tab-link" data-tab="substation"
                        data-eng="Substation"
                        data-kor="변전소">변전소</a>
                    <a href="#bess" class="tab-link" data-tab="bess"
                        data-eng="BESS"
                        data-kor="에너지저장장치">에너지저장장치</a>
                    <a href="#data-center" class="tab-link" data-tab="data-center"
                        data-eng="Data Center"
                        data-kor="데이터센터">데이터센터</a>
                    <a href="#control-valve" class="tab-link" data-tab="control-valve"
                        data-eng="Control Valve"
                        data-kor="콘트롤밸브">콘트롤밸브</a>
                    <a href="#us-military" class="tab-link" data-tab="us-military"
                        data-eng="U.S. Military Base"
                        data-kor="미군기지">미군기지</a>
                </nav>
                
                <!-- Section Navigation for 화력발전소 -->
                <div class="section-nav" id="section-nav-thermal-power">
                    <a href="#thermal-overview" class="section-nav-link"
                    data-eng="Overview"
                    data-kor="화력발전소 개요">화력발전소 개요</a>
                    <a href="#thermal-projects" class="section-nav-link"
                    data-eng="Major Projects"
                    data-kor="주요 프로젝트">주요 프로젝트</a>
                    <a href="#thermal-technology" class="section-nav-link"
                    data-eng="Technical Capabilities"
                    data-kor="기술 역량">기술 역량</a>
                    <a href="#thermal-performance" class="section-nav-link"
                    data-eng="Performance"
                    data-kor="실적">실적</a>
                </div>
                
                <!-- Section Navigation for 원자력발전소 -->
                <div class="section-nav" id="section-nav-nuclear-power" style="display: none;">
                    <a href="#nuclear-overview" class="section-nav-link"
                    data-eng="Overview"
                    data-kor="원자력발전소 개요">원자력발전소 개요</a>
                 <a href="#nuclear-projects" class="section-nav-link"
                    data-eng="Major Projects"
                    data-kor="주요 프로젝트">주요 프로젝트</a>
                 <a href="#nuclear-technology" class="section-nav-link"
                    data-eng="Technical Capabilities"
                    data-kor="기술 역량">기술 역량</a>
                 <a href="#nuclear-performance" class="section-nav-link"
                    data-eng="Performance"
                    data-kor="실적">실적</a>
                </div>
                
                <!-- Section Navigation for 신재생에너지 -->
                <div class="section-nav" id="section-nav-renewable-energy" style="display: none;">
                    <a href="#renewable-solar" class="section-nav-link">태양광</a>
                    <a href="#renewable-wind" class="section-nav-link">풍력</a>
                    <a href="#renewable-ess" class="section-nav-link">ESS</a>
                    <a href="#renewable-projects" class="section-nav-link">주요 프로젝트</a>
                </div>
                
                <!-- Section Navigation for 그린수소/암모니아 -->
                <div class="section-nav" id="section-nav-green-hydrogen" style="display: none;">
                    <a href="#hydrogen-green" class="section-nav-link">그린수소</a>
                    <a href="#hydrogen-ammonia" class="section-nav-link">암모니아</a>
                    <a href="#hydrogen-solutions" class="section-nav-link">기술 솔루션</a>
                    <a href="#hydrogen-projects" class="section-nav-link">프로젝트</a>
                </div>
                
                <!-- Section Navigation for 변전소 -->
                <div class="section-nav" id="section-nav-substation" style="display: none;">
                    <a href="#substation-ais" class="section-nav-link">AIS 변전소</a>
                    <a href="#substation-gis" class="section-nav-link">GIS 변전소</a>
                    <a href="#substation-digital" class="section-nav-link">디지털 변전소</a>
                    <a href="#substation-performance" class="section-nav-link">주요 실적</a>
                </div>
                
                <!-- Section Navigation for 에너지저장장치 -->
                <div class="section-nav" id="section-nav-bess" style="display: none;">
                    <a href="#bess-overview" class="section-nav-link">BESS 개요</a>
                    <a href="#bess-system" class="section-nav-link">시스템 구성</a>
                    <a href="#bess-control" class="section-nav-link">제어 시스템</a>
                    <a href="#bess-projects" class="section-nav-link">프로젝트</a>
                </div>
                
                <!-- Section Navigation for 데이터센터 -->
                <div class="section-nav" id="section-nav-data-center" style="display: none;">
                    <a href="#datacenter-power" class="section-nav-link">데이터센터 전력</a>
                    <a href="#datacenter-cooling" class="section-nav-link">냉각 시스템</a>
                    <a href="#datacenter-monitoring" class="section-nav-link">모니터링</a>
                    <a href="#datacenter-performance" class="section-nav-link">실적</a>
                </div>
                
                <!-- Section Navigation for 콘트롤밸브 -->
                <div class="section-nav" id="section-nav-control-valve" style="display: none;">
                    <a href="#valve-types" class="section-nav-link">밸브 종류</a>
                    <a href="#valve-control" class="section-nav-link">제어 시스템</a>
                    <a href="#valve-maintenance" class="section-nav-link">유지보수</a>
                    <a href="#valve-performance" class="section-nav-link">공급 실적</a>
                </div>
                
                <!-- Section Navigation for 미군기지 -->
                <div class="section-nav" id="section-nav-us-military" style="display: none;">
                    <a href="#military-projects" class="section-nav-link">미군기지 프로젝트</a>
                    <a href="#military-security" class="section-nav-link">보안 시스템</a>
                    <a href="#military-power" class="section-nav-link">전력 공급</a>
                    <a href="#military-performance" class="section-nav-link">실적</a>
                </div>
            </div>
        </section>

        <!-- Tab Content -->
        <section class="tab-content-section">
            <div class="container">
                <!-- 화력발전소 -->
                <div id="thermal-power" class="tab-content active">
                    <div class="content-header">
                        <h2 class="content-title">화력발전소</h2>
                        <p class="content-subtitle">Thermal Power Plant</p>
                    </div>
                    
                    <div class="content-grid">
                        <div id="thermal-overview" class="content-block full-width">
                            <h3 class="block-title">화력발전소 개요</h3>
                            <div class="block-content">
                                <p>화력발전소 개요 콘텐츠 영역</p>
                            </div>
                        </div>
                        
                        <div id="thermal-projects" class="content-block full-width">
                            <h3 class="block-title">주요 프로젝트</h3>
                            <div class="block-content">
                                <p>주요 프로젝트 콘텐츠 영역</p>
                            </div>
                        </div>
                        
                        <div id="thermal-technology" class="content-block full-width">
                            <h3 class="block-title">기술 역량</h3>
                            <div class="block-content">
                                <p>기술 역량 콘텐츠 영역</p>
                            </div>
                        </div>
                        
                        <div id="thermal-performance" class="content-block full-width">
                            <h3 class="block-title">실적</h3>
                            <div class="block-content">
                                <p>실적 콘텐츠 영역</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 원자력발전소 -->
                <div id="nuclear-power" class="tab-content">
                    <div class="content-header">
                        <h2 class="content-title">원자력발전소</h2>
                        <p class="content-subtitle">Nuclear Power Plant</p>
                    </div>
                    
                    <div class="content-grid">
                        <div id="nuclear-overview" class="content-block full-width">
                            <h3 class="block-title">원자력발전소 개요</h3>
                            <div class="block-content">
                                <p>원자력발전소 개요 콘텐츠 영역</p>
                            </div>
                        </div>
                        
                        <div id="nuclear-projects" class="content-block full-width">
                            <h3 class="block-title">주요 프로젝트</h3>
                            <div class="block-content">
                                <p>주요 프로젝트 콘텐츠 영역</p>
                            </div>
                        </div>
                        
                        <div id="nuclear-technology" class="content-block full-width">
                            <h3 class="block-title">기술 역량</h3>
                            <div class="block-content">
                                <p>기술 역량 콘텐츠 영역</p>
                            </div>
                        </div>
                        
                        <div id="nuclear-performance" class="content-block full-width">
                            <h3 class="block-title">실적</h3>
                            <div class="block-content">
                                <p>실적 콘텐츠 영역</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 신재생에너지 -->
                <div id="renewable-energy" class="tab-content">
                    <div class="content-header">
                        <h2 class="content-title">신재생에너지</h2>
                        <p class="content-subtitle">Renewable Energy</p>
                    </div>
                    
                    <div class="content-grid">
                        <div id="renewable-solar" class="content-block full-width">
                            <h3 class="block-title">태양광</h3>
                            <div class="block-content">
                                <p>태양광 콘텐츠 영역</p>
                            </div>
                        </div>
                        
                        <div id="renewable-wind" class="content-block full-width">
                            <h3 class="block-title">풍력</h3>
                            <div class="block-content">
                                <p>풍력 콘텐츠 영역</p>
                            </div>
                        </div>
                        
                        <div id="renewable-ess" class="content-block full-width">
                            <h3 class="block-title">ESS</h3>
                            <div class="block-content">
                                <p>ESS 콘텐츠 영역</p>
                            </div>
                        </div>
                        
                        <div id="renewable-projects" class="content-block full-width">
                            <h3 class="block-title">주요 프로젝트</h3>
                            <div class="block-content">
                                <p>주요 프로젝트 콘텐츠 영역</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 그린수소/암모니아 -->
                <div id="green-hydrogen" class="tab-content">
                    <div class="content-header">
                        <h2 class="content-title">그린수소/암모니아</h2>
                        <p class="content-subtitle">Green Hydrogen & Ammonia</p>
                    </div>
                    
                    <div class="content-grid">
                        <div id="hydrogen-green" class="content-block full-width">
                            <h3 class="block-title">그린수소</h3>
                            <div class="block-content">
                                <p>그린수소 콘텐츠 영역</p>
                            </div>
                        </div>
                        
                        <div id="hydrogen-ammonia" class="content-block full-width">
                            <h3 class="block-title">암모니아</h3>
                            <div class="block-content">
                                <p>암모니아 콘텐츠 영역</p>
                            </div>
                        </div>
                        
                        <div id="hydrogen-solutions" class="content-block full-width">
                            <h3 class="block-title">기술 솔루션</h3>
                            <div class="block-content">
                                <p>기술 솔루션 콘텐츠 영역</p>
                            </div>
                        </div>
                        
                        <div id="hydrogen-projects" class="content-block full-width">
                            <h3 class="block-title">프로젝트</h3>
                            <div class="block-content">
                                <p>프로젝트 콘텐츠 영역</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 변전소 -->
                <div id="substation" class="tab-content">
                    <div class="content-header">
                        <h2 class="content-title">변전소</h2>
                        <p class="content-subtitle">Substation</p>
                    </div>
                    
                    <div class="content-grid">
                        <div id="substation-ais" class="content-block full-width">
                            <h3 class="block-title">AIS 변전소</h3>
                            <div class="block-content">
                                <p>AIS 변전소 콘텐츠 영역</p>
                            </div>
                        </div>
                        
                        <div id="substation-gis" class="content-block full-width">
                            <h3 class="block-title">GIS 변전소</h3>
                            <div class="block-content">
                                <p>GIS 변전소 콘텐츠 영역</p>
                            </div>
                        </div>
                        
                        <div id="substation-digital" class="content-block full-width">
                            <h3 class="block-title">디지털 변전소</h3>
                            <div class="block-content">
                                <p>디지털 변전소 콘텐츠 영역</p>
                            </div>
                        </div>
                        
                        <div id="substation-performance" class="content-block full-width">
                            <h3 class="block-title">주요 실적</h3>
                            <div class="block-content">
                                <p>주요 실적 콘텐츠 영역</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 에너지저장장치 -->
                <div id="bess" class="tab-content">
                    <div class="content-header">
                        <h2 class="content-title">에너지저장장치</h2>
                        <p class="content-subtitle">Battery Energy Storage System</p>
                    </div>
                    
                    <div class="content-grid">
                        <div id="bess-overview" class="content-block full-width">
                            <h3 class="block-title">BESS 개요</h3>
                            <div class="block-content">
                                <p>BESS 개요 콘텐츠 영역</p>
                            </div>
                        </div>
                        
                        <div id="bess-system" class="content-block full-width">
                            <h3 class="block-title">시스템 구성</h3>
                            <div class="block-content">
                                <p>시스템 구성 콘텐츠 영역</p>
                            </div>
                        </div>
                        
                        <div id="bess-control" class="content-block full-width">
                            <h3 class="block-title">제어 시스템</h3>
                            <div class="block-content">
                                <p>제어 시스템 콘텐츠 영역</p>
                            </div>
                        </div>
                        
                        <div id="bess-projects" class="content-block full-width">
                            <h3 class="block-title">프로젝트</h3>
                            <div class="block-content">
                                <p>프로젝트 콘텐츠 영역</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 데이터센터 -->
                <div id="data-center" class="tab-content">
                    <div class="content-header">
                        <h2 class="content-title">데이터센터</h2>
                        <p class="content-subtitle">Data Center</p>
                    </div>
                    
                    <div class="content-grid">
                        <div id="datacenter-power" class="content-block full-width">
                            <h3 class="block-title">데이터센터 전력</h3>
                            <div class="block-content">
                                <p>데이터센터 전력 콘텐츠 영역</p>
                            </div>
                        </div>
                        
                        <div id="datacenter-cooling" class="content-block full-width">
                            <h3 class="block-title">냉각 시스템</h3>
                            <div class="block-content">
                                <p>냉각 시스템 콘텐츠 영역</p>
                            </div>
                        </div>
                        
                        <div id="datacenter-monitoring" class="content-block full-width">
                            <h3 class="block-title">모니터링</h3>
                            <div class="block-content">
                                <p>모니터링 콘텐츠 영역</p>
                            </div>
                        </div>
                        
                        <div id="datacenter-performance" class="content-block full-width">
                            <h3 class="block-title">실적</h3>
                            <div class="block-content">
                                <p>실적 콘텐츠 영역</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 콘트롤밸브 -->
                <div id="control-valve" class="tab-content">
                    <div class="content-header">
                        <h2 class="content-title">콘트롤밸브</h2>
                        <p class="content-subtitle">Control Valve</p>
                    </div>
                    
                    <div class="content-grid">
                        <div id="valve-types" class="content-block full-width">
                            <h3 class="block-title">밸브 종류</h3>
                            <div class="block-content">
                                <p>밸브 종류 콘텐츠 영역</p>
                            </div>
                        </div>
                        
                        <div id="valve-control" class="content-block full-width">
                            <h3 class="block-title">제어 시스템</h3>
                            <div class="block-content">
                                <p>제어 시스템 콘텐츠 영역</p>
                            </div>
                        </div>
                        
                        <div id="valve-maintenance" class="content-block full-width">
                            <h3 class="block-title">유지보수</h3>
                            <div class="block-content">
                                <p>유지보수 콘텐츠 영역</p>
                            </div>
                        </div>
                        
                        <div id="valve-performance" class="content-block full-width">
                            <h3 class="block-title">공급 실적</h3>
                            <div class="block-content">
                                <p>공급 실적 콘텐츠 영역</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 미군기지 -->
                <div id="us-military" class="tab-content">
                    <div class="content-header">
                        <h2 class="content-title">미군기지</h2>
                        <p class="content-subtitle">U.S. Military</p>
                    </div>
                    
                    <div class="content-grid">
                        <div id="military-projects" class="content-block full-width">
                            <h3 class="block-title">미군기지 프로젝트</h3>
                            <div class="block-content">
                                <p>미군기지 프로젝트 콘텐츠 영역</p>
                            </div>
                        </div>
                        
                        <div id="military-security" class="content-block full-width">
                            <h3 class="block-title">보안 시스템</h3>
                            <div class="block-content">
                                <p>보안 시스템 콘텐츠 영역</p>
                            </div>
                        </div>
                        
                        <div id="military-power" class="content-block full-width">
                            <h3 class="block-title">전력 공급</h3>
                            <div class="block-content">
                                <p>전력 공급 콘텐츠 영역</p>
                            </div>
                        </div>
                        
                        <div id="military-performance" class="content-block full-width">
                            <h3 class="block-title">실적</h3>
                            <div class="block-content">
                                <p>실적 콘텐츠 영역</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer Container -->
    <div id="footer-container"></div>

    <!-- Scripts -->
    <script src="../../js/components.js"></script>
    <script src="../../js/header-menu.js"></script>
    <script src="../../js/sidebar.js"></script>
    <script src="../../js/hamburger.js"></script>
    <script src="../../js/main-top-padding.js"></script>
    <!-- 페이지준비중 팝업 스크립트 -->
    <script src="../../js/content-preparing.js"></script>
    
    <!-- _________________________________________ -->
    <!-- 스크롤 탑 버튼 -->
    <div id="scrolltotop-container"></div>
    <!-- 최상단 가기 버튼 구현하기 -->
    <script src="/js/scrolltotop.js"></script>
    <!-- 한영 전환 기능 -->
    <script src="/js/lang-switch.js"></script>

    <script>
// ===== 사업분야 페이지 컨트롤러 클래스 =====
class BusinessPageController {
    constructor() {
        this.currentTab = 'thermal-power';
        this.currentSection = null;
        this.init();
    }
    
    // 초기화
    init() {
        this.setupTabNavigation();
        this.setupSectionNavigation();
        this.handleUrlParams();
        this.attachEvents();
    }
    
    // 탭 네비게이션 설정
    setupTabNavigation() {
        const tabLinks = document.querySelectorAll('.tab-link');
        
        tabLinks.forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                const tabId = link.getAttribute('data-tab');
                this.switchTab(tabId);
                
                // URL 파라미터 업데이트 (페이지 내 탭 클릭 시)
                const newUrl = `${window.location.pathname}?tab=${tabId}`;
                window.history.pushState(null, null, newUrl);
            });
        });
    }
    
    // 섹션 네비게이션 설정
    setupSectionNavigation() {
        const sectionLinks = document.querySelectorAll('.section-nav-link');
        
        sectionLinks.forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                const href = link.getAttribute('href');
                const sectionId = href.substring(1); // # 제거
                
                this.scrollToSection(sectionId);
                this.updateSectionActiveState(link);
                
                // URL 해시 업데이트
                window.history.pushState(null, null, href);
            });
        });
    }
    
    // URL 해시 처리 → URL 파라미터 처리로 변경
    handleUrlParams() {
        const urlParams = new URLSearchParams(window.location.search);
        const tabParam = urlParams.get('tab');
        const hash = window.location.hash.substring(1);
        
        if (tabParam && this.isTabId(tabParam)) {
            // URL 파라미터로 탭 지정 시 (메뉴에서 직접 접근)
            this.switchTab(tabParam);
            // 스크롤하지 않음 - 최상단 유지
        } else if (hash) {
            // 해시로 접근 시 (페이지 내 네비게이션)
            if (this.isTabId(hash)) {
                this.switchTab(hash);
            } else if (this.isSectionId(hash)) {
                const tabId = this.getTabIdFromSection(hash);
                this.switchTab(tabId);
                setTimeout(() => {
                    this.scrollToSection(hash);
                }, 100);
            }
        }
        
        // 브라우저 뒤로가기/앞으로가기 처리
        window.addEventListener('popstate', () => {
            this.handleUrlParams();
        });
    }
    
    // 탭 전환
    switchTab(tabId) {
        this.currentTab = tabId;
        
        // 모든 탭 링크 비활성화
        document.querySelectorAll('.tab-link').forEach(link => {
            link.classList.remove('active');
        });
        
        // 해당 탭 링크 활성화
        const activeTabLink = document.querySelector(`[data-tab="${tabId}"]`);
        if (activeTabLink) {
            activeTabLink.classList.add('active');
        }
        
        // 모든 탭 콘텐츠 숨기기
        document.querySelectorAll('.tab-content').forEach(content => {
            content.classList.remove('active');
        });
        
        // 해당 탭 콘텐츠 표시
        const activeTabContent = document.getElementById(tabId);
        if (activeTabContent) {
            activeTabContent.classList.add('active');
        }
        
        // 섹션 네비게이션 전환
        this.switchSectionNav(tabId);
    }
    
            // 섹션 네비게이션 전환
    switchSectionNav(tabId) {
        // 모든 섹션 네비게이션 숨기기
        document.querySelectorAll('.section-nav').forEach(nav => {
            nav.style.display = 'none';
        });
        
        // 해당 탭의 섹션 네비게이션 표시
        const activeSectionNav = document.getElementById(`section-nav-${tabId}`);
        if (activeSectionNav) {
            activeSectionNav.style.display = 'flex';
        }
        
        // 섹션 활성화 상태 초기화
        this.clearSectionActiveStates();
    }
    
    // 섹션으로 스크롤
    scrollToSection(sectionId) {
        const targetSection = document.getElementById(sectionId);
        if (!targetSection) return;
        
        // 헤더 높이 + 탭 네비게이션 높이 계산
        const header = document.querySelector('.header');
        const tabNavigation = document.querySelector('.tab-navigation');
        
        const headerHeight = header ? header.getBoundingClientRect().height : 0;
        const tabNavHeight = tabNavigation ? tabNavigation.getBoundingClientRect().height : 0;
        const totalOffset = headerHeight + tabNavHeight + 20; // 여유 공간 20px
        
        const targetPosition = targetSection.getBoundingClientRect().top + window.pageYOffset;
        const adjustedPosition = targetPosition - totalOffset;
        
        window.scrollTo({
            top: adjustedPosition,
            behavior: 'smooth'
        });
        
        this.currentSection = sectionId;
    }
    
    // 섹션 활성화 상태 업데이트
    updateSectionActiveState(activeLink) {
        // 현재 표시된 섹션 네비게이션 내의 모든 링크 비활성화
        const currentSectionNav = document.querySelector('.section-nav[style*="flex"]');
        if (currentSectionNav) {
            currentSectionNav.querySelectorAll('.section-nav-link').forEach(link => {
                link.classList.remove('active');
            });
        }
        
        // 클릭된 링크 활성화
        activeLink.classList.add('active');
    }
    
    // 섹션 활성화 상태 초기화
    clearSectionActiveStates() {
        document.querySelectorAll('.section-nav-link').forEach(link => {
            link.classList.remove('active');
        });
    }
    
    // 탭 ID인지 확인
    isTabId(id) {
        const tabIds = ['thermal-power', 'nuclear-power', 'renewable-energy', 'green-hydrogen', 'substation', 'bess', 'data-center', 'control-valve', 'us-military'];
        return tabIds.includes(id);
    }
    
    // 섹션 ID인지 확인
    isSectionId(id) {
        const sectionPrefixes = ['thermal-', 'nuclear-', 'renewable-', 'hydrogen-', 'substation-', 'bess-', 'datacenter-', 'valve-', 'military-'];
        return sectionPrefixes.some(prefix => id.startsWith(prefix));
    }
    
    // 섹션 ID로부터 탭 ID 추출
    getTabIdFromSection(sectionId) {
        if (sectionId.startsWith('thermal-')) return 'thermal-power';
        if (sectionId.startsWith('nuclear-')) return 'nuclear-power';
        if (sectionId.startsWith('renewable-')) return 'renewable-energy';
        if (sectionId.startsWith('hydrogen-')) return 'green-hydrogen';
        if (sectionId.startsWith('substation-')) return 'substation';
        if (sectionId.startsWith('bess-')) return 'bess';
        if (sectionId.startsWith('datacenter-')) return 'data-center';
        if (sectionId.startsWith('valve-')) return 'control-valve';
        if (sectionId.startsWith('military-')) return 'us-military';
        return 'thermal-power'; // 기본값
    }
    
    // 추가 이벤트 처리
    attachEvents() {
        // 스크롤 시 현재 보이는 섹션 감지
        this.setupScrollSpy();
        
        // 키보드 네비게이션
        this.setupKeyboardNavigation();
    }
    
    // 스크롤 스파이 (현재 보이는 섹션 자동 감지)
    setupScrollSpy() {
        let ticking = false;
        
        const updateActiveSection = () => {
            const sections = document.querySelectorAll('.content-block[id]');
            const scrollPosition = window.pageYOffset + window.innerHeight / 2;
            
            sections.forEach(section => {
                const rect = section.getBoundingClientRect();
                const sectionTop = rect.top + window.pageYOffset;
                const sectionBottom = sectionTop + rect.height;
                
                if (scrollPosition >= sectionTop && scrollPosition <= sectionBottom) {
                    const sectionId = section.id;
                    const correspondingLink = document.querySelector(`[href="#${sectionId}"]`);
                    
                    if (correspondingLink && !correspondingLink.classList.contains('active')) {
                        this.updateSectionActiveState(correspondingLink);
                    }
                }
            });
            
            ticking = false;
        };
        
        window.addEventListener('scroll', () => {
            if (!ticking) {
                requestAnimationFrame(updateActiveSection);
                ticking = true;
            }
        });
    }
    
    // 키보드 네비게이션
    setupKeyboardNavigation() {
        document.addEventListener('keydown', (e) => {
            // 탭 키로 탭 간 이동 (Ctrl + Arrow)
            if (e.ctrlKey) {
                const tabIds = ['thermal-power', 'nuclear-power', 'renewable-energy', 'green-hydrogen', 'substation', 'bess', 'data-center', 'control-valve', 'us-military'];
                const currentIndex = tabIds.indexOf(this.currentTab);
                
                if (e.key === 'ArrowRight' && currentIndex < tabIds.length - 1) {
                    e.preventDefault();
                    this.switchTab(tabIds[currentIndex + 1]);
                    const newUrl = `${window.location.pathname}?tab=${tabIds[currentIndex + 1]}`;
                    window.history.pushState(null, null, newUrl);
                } else if (e.key === 'ArrowLeft' && currentIndex > 0) {
                    e.preventDefault();
                    this.switchTab(tabIds[currentIndex - 1]);
                    const newUrl = `${window.location.pathname}?tab=${tabIds[currentIndex - 1]}`;
                    window.history.pushState(null, null, newUrl);
                }
            }
        });
    }
    
    // 외부에서 호출 가능한 메서드들
    goToTab(tabId) {
        this.switchTab(tabId);
        const newUrl = `${window.location.pathname}?tab=${tabId}`;
        window.history.pushState(null, null, newUrl);
    }
    
    goToSection(sectionId) {
        const tabId = this.getTabIdFromSection(sectionId);
        this.switchTab(tabId);
        setTimeout(() => {
            this.scrollToSection(sectionId);
        }, 100);
        window.history.pushState(null, null, `#${sectionId}`);
    }
    
    getCurrentTab() {
        return this.currentTab;
    }
    
    getCurrentSection() {
        return this.currentSection;
    }
}

// ===== 전역 변수 =====
let businessPageController = null;

// ===== 초기화 함수 =====
function initBusinessPage() {
    if (!businessPageController) {
        businessPageController = new BusinessPageController();
    }
    return businessPageController;
}

// ===== 전역 함수들 =====
function goToTab(tabId) {
    if (businessPageController) {
        businessPageController.goToTab(tabId);
    }
}

function goToSection(sectionId) {
    if (businessPageController) {
        businessPageController.goToSection(sectionId);
    }
}

function getCurrentTab() {
    return businessPageController ? businessPageController.getCurrentTab() : null;
}

function getCurrentSection() {
    return businessPageController ? businessPageController.getCurrentSection() : null;
}

// ===== 자동 초기화 =====
document.addEventListener('DOMContentLoaded', function() {
    // 컴포넌트 로딩 완료 후 초기화
    if (document.querySelector('.tab-navigation')) {
        initBusinessPage();
    } else {
        document.addEventListener('componentsLoaded', () => {
            setTimeout(initBusinessPage, 200);
        });
    }
});

// ===== 전역 함수 내보내기 =====
window.initBusinessPage = initBusinessPage;
window.goToTab = goToTab;
window.goToSection = goToSection;
window.getCurrentTab = getCurrentTab;
window.getCurrentSection = getCurrentSection;
    </script>
</body>
</html>